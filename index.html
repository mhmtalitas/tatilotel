<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="TatilOtel - En iyi tatil fırsatları ve turlar. Hayalinizdeki tatili şimdi planlayın.">
    <title>TatilOtel - Hayalinizdeki Tatil Burada</title>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="assets/favicon.png">
    <link rel="apple-touch-icon" href="assets/favicon.png">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="slider.css">
</head>

<body>

    <!-- Header -->
    <div class="header-wrapper">
        <!-- Top Row -->
        <div class="top-header">
            <div class="container top-header-container">
                <a href="index.html" class="logo">
                    <img src="assets/logo.png" alt="TatilOtel" class="logo-img">
                </a>
                <div class="top-actions">
                    <div class="top-phone">
                        <i class="fa-solid fa-phone"></i> 0850 532 37 73
                    </div>
                    <!-- Notification removed -->
                    <a href="javascript:void(0)" class="btn-register" id="openRegister">Üye Ol</a>
                    <a href="javascript:void(0)" class="btn-login" id="openLogin"><i class="fa-solid fa-user"></i> Giriş
                        Yap</a>
                </div>
                <button class="mobile-menu-btn">
                    <i class="fa-solid fa-bars"></i>
                </button>
            </div>
        </div>

        <!-- Bottom Row: Navigation -->
        <div class="main-nav-bar">
            <div class="container">
                <nav class="main-nav">
                    <ul class="main-nav-list">
                        <!-- KONSEPT TURLAR Dropdown -->
                        <li class="main-nav-item">
                            <a href="tours.html" class="main-nav-link">
                                KONSEPT TURLAR <i class="fa-solid fa-chevron-down"></i>
                            </a>
                            <div class="mega-menu">
                                <div class="mega-menu-grid">
                                    <div class="mega-col">
                                        <ul>
                                            <li><a href="#">Kültür Turları</a></li>
                                            <li><a href="#">Balayı Turları</a></li>
                                            <li><a href="#">Günübirlik Turlar</a></li>
                                            <li><a href="#">Gemi Turları</a></li>
                                            <li><a href="#">Fotoğraf Turları</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </li>

                        <!-- YURTİÇİ TURLARI Dropdown -->
                        <li class="main-nav-item">
                            <a href="tours.html" class="main-nav-link">
                                YURTİÇİ TURLARI <i class="fa-solid fa-chevron-down"></i>
                            </a>
                            <div class="mega-menu">
                                <div class="mega-menu-grid">
                                    <div class="mega-col">
                                        <ul>
                                            <li><a href="#">Ege Akdeniz Turları</a></li>
                                            <li><a href="#">Doğu Anadolu</a></li>
                                            <li><a href="#">Kapadokya Turları</a></li>
                                            <li><a href="#">Karadeniz Turları</a></li>
                                            <li><a href="#">GAP Turları</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </li>

                        <!-- YURT DIŞI TURLARI Dropdown -->
                        <li class="main-nav-item">
                            <a href="tours.html" class="main-nav-link">
                                YURT DIŞI TURLARI <i class="fa-solid fa-chevron-down"></i>
                            </a>
                            <div class="mega-menu">
                                <div class="mega-menu-grid">
                                    <div class="mega-col">
                                        <ul>
                                            <li><a href="#">Avrupa Turları</a></li>
                                            <li><a href="#">Amerika Turları</a></li>
                                            <li><a href="#">Balkan Turları</a></li>
                                            <li><a href="#">Uzakdoğu Turları</a></li>
                                            <li><a href="#">İspanya Turları</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </li>

                        <li class="main-nav-item"><a href="tours.html" class="main-nav-link">SÖMESTİR TURLARI</a></li>
                        <li class="main-nav-item"><a href="#" class="main-nav-link" style="color:red;">KAMPANYALAR</a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>

    <!-- Search Section (Obilet Style - Below Navbar) -->
    <section class="search-section">
        <div class="container">
            <!-- Tour Search Box (No Tabs - Direct Search) -->
            <!-- Tour Search Box (Updated with specific fields) -->
            <div class="search-box active">
                <div class="search-item">
                    <i class="fa-solid fa-layer-group"></i>
                    <div class="search-input-group">
                        <label>Tur Kategorisi</label>
                        <select class="search-select">
                            <option value="">Hepsi</option>
                            <option value="kultur">Kültür Turları</option>
                            <option value="yurt-disi">Yurt Dışı Turları</option>
                            <option value="gemi">Gemi Turları</option>
                            <option value="kayak">Kayak Turları</option>
                        </select>
                    </div>
                </div>
                <div class="search-item">
                    <i class="fa-solid fa-umbrella-beach"></i>
                    <div class="search-input-group">
                        <label>Tur Alt Kategorisi</label>
                        <select class="search-select">
                            <option value="">Hepsi</option>
                            <option value="italya">İtalya Turları</option>
                            <option value="balkan">Balkan Turları</option>
                            <option value="gap">GAP Turları</option>
                            <option value="karadeniz">Karadeniz Turları</option>
                        </select>
                    </div>
                </div>
                <div class="search-item">
                    <i class="fa-solid fa-location-dot"></i>
                    <div class="search-input-group">
                        <label>Ziyaret Yeri</label>
                        <input type="text" placeholder="Örn. İtalya, Balayı, Vizesiz">
                    </div>
                </div>
                <div class="search-item date-picker-trigger" id="datePickerTrigger">
                    <i class="fa-solid fa-calendar-days"></i>
                    <div class="search-input-group">
                        <label>Tarih</label>
                        <div class="date-display-text" id="dateDisplayText">Başlangıç - Bitiş Tarihi</div>
                    </div>
                    <!-- Custom Range Calendar -->
                    <div class="custom-calendar-popup" id="customCalendar">
                        <div class="calendar-header">
                            <button class="cal-btn prev" id="prevMonth"><i
                                    class="fa-solid fa-chevron-left"></i></button>
                            <button class="cal-btn next" id="nextMonth"><i
                                    class="fa-solid fa-chevron-right"></i></button>
                        </div>
                        <div class="months-container" id="monthsContainer">
                            <!-- JS will inject months here -->
                        </div>
                        <div class="calendar-footer">
                            <button class="cal-apply-btn" id="applyDateBtn">Uygula</button>
                        </div>
                    </div>
                </div>
                <button class="search-btn">Tur Ara</button>
            </div>
        </div>
    </section>

    <!-- Hero Section removed -->


    <!-- Professional Tour Cards Section (Replaces Quick Actions) -->
    <section class="pro-section" style="background-color: #fff; padding-top: 40px; padding-bottom: 20px;">
        <div class="container">
            <div class="pro-section-header">
                <div class="pro-title-group">
                    <h2>Popüler Turlar</h2>
                    <p>En çok tercih edilen turları keşfedin</p>
                </div>
                <div class="pro-view-all">
                    <span>Tümünü İncele</span>
                    <a href="#" class="pro-nav-btn"><i class="fa-solid fa-chevron-left"></i></a>
                    <a href="#" class="pro-nav-btn"><i class="fa-solid fa-chevron-right"></i></a>
                </div>
            </div>

            <div class="pro-card-grid">
                <!-- Tour Card 1 -->
                <div class="pro-card">
                    <div class="pro-card-img">
                        <img src="https://images.unsplash.com/photo-1518684079-3c830dcef090?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                            alt="Dubai Turu">
                    </div>
                    <div class="pro-card-body">
                        <h3 class="pro-card-title">FIRSAT DUBAİ TURU VİZE DAHİL 3 Gece 4 Gün</h3>
                        <div class="pro-card-location">
                            <span>Dubai Turları</span>
                            <span>Yurt Dışı</span>
                        </div>
                        <div class="pro-card-footer">
                            <a href="#" class="btn-deal" style="color: #e67e22;">Fırsatı Yakala! <i
                                    class="fa-solid fa-chevron-right"></i></a>
                        </div>
                    </div>
                </div>

                <!-- Tour Card 2 -->
                <div class="pro-card">
                    <div class="pro-card-img">
                        <img src="https://images.unsplash.com/photo-1523906834658-6e24ef2386f9?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                            alt="Venedik Turu">
                    </div>
                    <div class="pro-card-body">
                        <h3 class="pro-card-title">Klasik İtalya Turu: 7 Gece Özel Freebird Havayolları Seferi ile</h3>
                        <div class="pro-card-location">
                            <span>İtalya Turları</span>
                            <span>Avrupa</span>
                        </div>
                        <div class="pro-card-footer">
                            <a href="#" class="btn-deal" style="color: #e67e22;">Fırsatı Yakala! <i
                                    class="fa-solid fa-chevron-right"></i></a>
                        </div>
                    </div>
                </div>

                <!-- Tour Card 3 -->
                <div class="pro-card">
                    <div class="pro-card-img">
                        <img src="https://images.unsplash.com/photo-1583422409516-2895a77efded?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                            alt="İspanya Turu">
                    </div>
                    <div class="pro-card-body">
                        <h3 class="pro-card-title">Büyük İspanya Turu ve Endülüs Rüyası</h3>
                        <div class="pro-card-location">
                            <span>İspanya Turları</span>
                            <span>Avrupa</span>
                        </div>
                        <div class="pro-card-footer">
                            <a href="#" class="btn-deal" style="color: #e67e22;">Fırsatı Yakala! <i
                                    class="fa-solid fa-chevron-right"></i></a>
                        </div>
                    </div>
                </div>

                <!-- Tour Card 4 -->
                <div class="pro-card">
                    <div class="pro-card-img">
                        <img src="https://images.unsplash.com/photo-1506973035872-a4ec16b8e8d9?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                            alt="Avustralya Turu">
                    </div>
                    <div class="pro-card-body">
                        <h3 class="pro-card-title">Westerdam ile Yılbaşında Bangkok & Uzakdoğu 16</h3>
                        <div class="pro-card-location">
                            <span>Uzakdoğu Turları</span>
                            <span>Asya</span>
                        </div>
                        <div class="pro-card-footer">
                            <a href="#" class="btn-deal" style="color: #e67e22;">Fırsatı Yakala! <i
                                    class="fa-solid fa-chevron-right"></i></a>
                        </div>
                    </div>
                </div>

                <!-- Tour Card 5 -->
                <div class="pro-card">
                    <div class="pro-card-img">
                        <img src="https://images.unsplash.com/photo-1534351590666-13e3e96b5017?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                            alt="Hollanda Turu">
                    </div>
                    <div class="pro-card-body">
                        <h3 class="pro-card-title">Benelüks & Paris Turu (Amsterdam, Brüksel)</h3>
                        <div class="pro-card-location">
                            <span>Avrupa Turları</span>
                            <span>Vizesiz</span>
                        </div>
                        <div class="pro-card-footer">
                            <a href="#" class="btn-deal" style="color: #e67e22;">Fırsatı Yakala! <i
                                    class="fa-solid fa-chevron-right"></i></a>
                        </div>
                    </div>
                </div>

                <!-- Tour Card 6 -->
                <div class="pro-card">
                    <div class="pro-card-img">
                        <img src="https://images.unsplash.com/photo-1552832230-c0197dd311b5?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                            alt="Roma Turu">
                    </div>
                    <div class="pro-card-body">
                        <h3 class="pro-card-title">Roma & Floransa & Venedik - İtalya Ekspresi</h3>
                        <div class="pro-card-location">
                            <span>İtalya Turları</span>
                            <span>Avrupa</span>
                        </div>
                        <div class="pro-card-footer">
                            <a href="#" class="btn-deal" style="color: #e67e22;">Fırsatı Yakala! <i
                                    class="fa-solid fa-chevron-right"></i></a>
                        </div>
                    </div>
                </div>
                <!-- Tour Card 7 -->
                <div class="pro-card">
                    <div class="pro-card-img">
                        <img src="https://images.unsplash.com/photo-1641128324972-af3212f0f6bd?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                            alt="Kapadokya Turu">
                    </div>
                    <div class="pro-card-body">
                        <h3 class="pro-card-title">Kapadokya Balon Turu & Peribacaları (3 Gece)</h3>
                        <div class="pro-card-location">
                            <span>Kapadokya Turları</span>
                            <span>Yurt İçi</span>
                        </div>
                        <div class="pro-card-footer">
                            <a href="#" class="btn-deal" style="color: #e67e22;">Fırsatı Yakala! <i
                                    class="fa-solid fa-chevron-right"></i></a>
                        </div>
                    </div>
                </div>

                <!-- Tour Card 8 -->
                <div class="pro-card">
                    <div class="pro-card-img">
                        <img src="https://images.unsplash.com/photo-1533105079780-92b9be482077?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                            alt="Yunanistan Turu">
                    </div>
                    <div class="pro-card-body">
                        <h3 class="pro-card-title">Yunan Adaları & Atina Kültür Turu (5 Gece)</h3>
                        <div class="pro-card-location">
                            <span>Yunanistan Turları</span>
                            <span>Avrupa</span>
                        </div>
                        <div class="pro-card-footer">
                            <a href="#" class="btn-deal" style="color: #e67e22;">Fırsatı Yakala! <i
                                    class="fa-solid fa-chevron-right"></i></a>
                        </div>
                    </div>
                </div>

                <!-- Tour Card 9 -->
                <div class="pro-card">
                    <div class="pro-card-img">
                        <img src="https://images.unsplash.com/photo-1568322445389-f64ac2515020?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                            alt="Mısır Turu">
                    </div>
                    <div class="pro-card-body">
                        <h3 class="pro-card-title">Mısır Piramitler & Nil Nehri Kruvaziyer Turu</h3>
                        <div class="pro-card-location">
                            <span>Mısır Turları</span>
                            <span>Afrika</span>
                        </div>
                        <div class="pro-card-footer">
                            <a href="#" class="btn-deal" style="color: #e67e22;">Fırsatı Yakala! <i
                                    class="fa-solid fa-chevron-right"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Kıbrıs Otelleri section removed -->



    <!-- Popular Hotels section removed -->

    <!-- Call to Action -->
    <section class="cta section-padding">
        <div class="container cta-container">
            <div class="cta-content">
                <h2>Özel Fırsatları Kaçırmayın!</h2>
                <p>E-bültenimize abone olun, en güncel kampanyalardan ve indirimlerden ilk siz haberdar olun.</p>
                <form class="cta-form">
                    <input type="email" placeholder="E-posta adresiniz">
                    <button type="submit" class="btn btn-primary">Abone Ol</button>
                </form>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container footer-grid">
            <div class="footer-col">
                <a href="#" class="footer-logo">
                    Tatil<span class="highlight">Otel</span>
                </a>
                <p>Hayalinizdeki tatili planlamanın en güvenilir ve kolay yolu. 10 yılı aşkın tecrübemizle
                    hizmetinizdeyiz.</p>
                <div class="social-links">
                    <a href="#"><i class="fa-brands fa-facebook-f"></i></a>
                    <a href="#"><i class="fa-brands fa-twitter"></i></a>
                    <a href="#"><i class="fa-brands fa-instagram"></i></a>
                    <a href="#"><i class="fa-brands fa-linkedin-in"></i></a>
                </div>
            </div>
            <div class="footer-col">
                <h4>Hızlı Bağlantılar</h4>
                <ul>
                    <li><a href="#">Hakkımızda</a></li>
                    <li><a href="#">Turlar</a></li>
                    <li><a href="#">Blog</a></li>
                    <li><a href="#">İletişim</a></li>
                </ul>
            </div>
            <div class="footer-col">
                <h4>Kurumsal</h4>
                <ul>
                    <li><a href="#">Kullanım Şartları</a></li>
                    <li><a href="#">Gizlilik Politikası</a></li>
                    <li><a href="#">KVKK</a></li>
                    <li><a href="#">İptal ve İade</a></li>
                    <li><a href="#">Çerez Politikası</a></li>
                </ul>
            </div>
            <div class="footer-col">
                <h4>İletişim</h4>
                <ul>
                    <li><i class="fa-solid fa-phone"></i> 0850 532 37 73</li>
                    <li><i class="fa-solid fa-envelope"></i> info@tatilotel.com.tr</li>
                    <li><i class="fa-solid fa-location-dot"></i> İstanbul, Türkiye</li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="container">
                <p>&copy; 2026 TatilOtel. Tüm hakları saklıdır.</p>
            </div>
        </div>
    </footer>

    <!-- Auth Modal -->
    <div class="modal-overlay" id="authModal">
        <div class="modal-container">
            <button class="modal-close" id="closeModal"><i class="fa-solid fa-xmark"></i></button>
            <div class="modal-tabs">
                <div class="modal-tab active" data-target="loginSection">Giriş Yap</div>
                <div class="modal-tab" data-target="registerSection">Üye Ol</div>
            </div>
            <div class="modal-content">
                <!-- Login Section -->
                <div class="modal-form-section active" id="loginSection">

                    <form class="auth-form">
                        <div class="form-group">
                            <label>E-posta Adresi</label>
                            <div class="input-wrapper">
                                <i class="fa-solid fa-envelope"></i>
                                <input type="email" placeholder="ornek@mail.com" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Parola</label>
                            <div class="input-wrapper">
                                <i class="fa-solid fa-lock"></i>
                                <input type="password" placeholder="••••••••" required>
                            </div>
                        </div>
                        <div class="remember-forgot">
                            <label class="remember-me"><input type="checkbox"> Beni Hatırla</label>
                            <a href="#" class="forgot-pass">Şifremi Unuttum?</a>
                        </div>
                        <button type="submit" class="auth-btn">Giriş Yap</button>
                    </form>
                    <div class="auth-footer">
                        Henüz üye değil misiniz? <button class="modal-switch-btn"
                            onclick="switchModal('registerSection')">Üye Ol</button>
                    </div>
                </div>

                <!-- Register Section -->
                <div class="modal-form-section" id="registerSection">

                    <form class="auth-form">
                        <div class="form-group">
                            <label>Ad Soyad</label>
                            <div class="input-wrapper"><i class="fa-solid fa-user"></i><input type="text"
                                    placeholder="Adınız Soyadınız" required></div>
                        </div>
                        <div class="form-group">
                            <label>E-posta Adresi</label>
                            <div class="input-wrapper"><i class="fa-solid fa-envelope"></i><input type="email"
                                    placeholder="ornek@mail.com" required></div>
                        </div>
                        <div class="form-group">
                            <label>Telefon Numarası</label>
                            <div class="input-wrapper"><i class="fa-solid fa-phone"></i><input type="tel"
                                    placeholder="05XX XXX XX XX" required></div>
                        </div>
                        <div class="form-group">
                            <label>Parola</label>
                            <div class="input-wrapper"><i class="fa-solid fa-lock"></i><input type="password"
                                    placeholder="••••••••" required></div>
                        </div>
                        <button type="submit" class="auth-btn">Üye Ol</button>
                    </form>
                    <div class="auth-footer">
                        Zaten üye misiniz? <button class="modal-switch-btn" onclick="switchModal('loginSection')">Giriş
                            Yap</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function openSearch(evt, searchName) {
            // Get all elements with class="search-box" and hide them
            var i, searchBox, searchTabs;
            searchBox = document.getElementsByClassName("search-box");
            for (i = 0; i < searchBox.length; i++) {
                searchBox[i].classList.remove("active");
            }

            // Get all elements with class="search-tab" and remove the class "active"
            searchTabs = document.getElementsByClassName("search-tab");
            for (i = 0; i < searchTabs.length; i++) {
                searchTabs[i].classList.remove("active");
            }

            // Show the current tab, and add an "active" class to the button that opened the tab
            document.getElementById(searchName).classList.add("active");
            evt.currentTarget.classList.add("active");
        }

        // Mobile Menu Toggle - PRODUCTION VERSION
        const menuBtn = document.querySelector('.mobile-menu-btn');
        const mainNavBar = document.querySelector('.main-nav-bar');

        // Hamburger menu toggle
        if (menuBtn && mainNavBar) {
            menuBtn.addEventListener('click', function (e) {
                e.preventDefault();
                e.stopPropagation();
                mainNavBar.classList.toggle('active');
            });
        }

        // Mega menu accordion - Direct approach on each link
        const menuItems = document.querySelectorAll('.main-nav-item');

        menuItems.forEach((item, index) => {
            const link = item.querySelector('.main-nav-link');
            const megaMenu = item.querySelector('.mega-menu');

            if (link && megaMenu) {
                link.addEventListener('click', function (e) {
                    // Only handle on mobile
                    if (window.innerWidth > 768) {
                        return;
                    }

                    e.preventDefault();
                    e.stopPropagation();

                    // Get current state
                    const wasActive = item.classList.contains('active');

                    // Close all menus
                    menuItems.forEach((otherItem) => {
                        otherItem.classList.remove('active');
                    });

                    // Toggle this one
                    if (!wasActive) {
                        item.classList.add('active');
                    }
                }, true); // Use capture phase
            }
        });



        // Modal Functionality
        const authModal = document.getElementById('authModal');
        const closeModal = document.getElementById('closeModal');
        const openLogin = document.getElementById('openLogin');
        const openRegister = document.getElementById('openRegister');
        const modalTabs = document.querySelectorAll('.modal-tab');
        const modalSections = document.querySelectorAll('.modal-form-section');

        function toggleModal(show = true, section = 'loginSection') {
            if (show) {
                authModal.classList.add('active');
                document.body.style.overflow = 'hidden';
                switchModal(section);
            } else {
                authModal.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
        }

        function switchModal(sectionId) {
            modalSections.forEach(section => section.classList.remove('active'));
            modalTabs.forEach(tab => tab.classList.remove('active'));

            document.getElementById(sectionId).classList.add('active');
            document.querySelector(`[data-target="${sectionId}"]`).classList.add('active');
        }

        openLogin.addEventListener('click', () => toggleModal(true, 'loginSection'));
        openRegister.addEventListener('click', () => toggleModal(true, 'registerSection'));
        closeModal.addEventListener('click', () => toggleModal(false));

        authModal.addEventListener('click', (e) => {
            if (e.target === authModal) toggleModal(false);
        });

        modalTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                switchModal(tab.getAttribute('data-target'));
            });
        });

        // ========================================
        // CUSTOM DATE RANGE PICKER (Obilet Style)
        // ========================================
        const datePickerTrigger = document.getElementById('datePickerTrigger');
        const customCalendar = document.getElementById('customCalendar');
        const monthsContainer = document.getElementById('monthsContainer');
        const prevMonthBtn = document.getElementById('prevMonth');
        const nextMonthBtn = document.getElementById('nextMonth');
        const dateDisplayText = document.getElementById('dateDisplayText');
        const applyDateBtn = document.getElementById('applyDateBtn');

        let currentDate = new Date();
        let selectedStartDate = null;
        let selectedEndDate = null;

        const monthNames = ["Ocak", "Şubat", "Mart", "Nisan", "Mayıs", "Haziran", "Temmuz", "Ağustos", "Eylül", "Ekim", "Kasım", "Aralık"];

        // Prevent ALL clicks inside calendar from bubbling up
        customCalendar.addEventListener('click', (e) => {
            e.stopPropagation();
        });

        // Toggle Calendar - only the trigger area (not the calendar itself)
        datePickerTrigger.addEventListener('click', (e) => {
            if (!customCalendar.classList.contains('active')) {
                customCalendar.classList.add('active');
                renderCalendar();
            }
        });

        // Close ONLY when clicking outside the entire trigger area
        document.addEventListener('click', (e) => {
            if (!datePickerTrigger.contains(e.target)) {
                customCalendar.classList.remove('active');
            }
        });

        prevMonthBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            currentDate.setMonth(currentDate.getMonth() - 1);
            renderCalendar();
        });

        nextMonthBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            currentDate.setMonth(currentDate.getMonth() + 1);
            renderCalendar();
        });

        // Close calendar ONLY on Uygula button
        applyDateBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            customCalendar.classList.remove('active');
        });

        // Resize listener to re-render properly
        window.addEventListener('resize', () => {
            // Debounce or just re-render if active
            if (customCalendar.classList.contains('active')) {
                renderCalendar();
            }
        });

        function renderCalendar() {
            monthsContainer.innerHTML = '';

            // Determine number of months to show based on screen width
            const isMobile = window.innerWidth < 768;
            const monthsToShow = isMobile ? 1 : 2;

            // Render months
            for (let i = 0; i < monthsToShow; i++) {
                const monthDate = new Date(currentDate.getFullYear(), currentDate.getMonth() + i, 1);
                const monthHTML = createMonthHTML(monthDate);
                monthsContainer.innerHTML += monthHTML;
            }

            // Re-attach listeners for day cells
            document.querySelectorAll('.day-cell:not(.empty):not(.disabled)').forEach(cell => {
                cell.addEventListener('click', (e) => {
                    e.stopPropagation();
                    handleDateClick(new Date(e.target.dataset.date));
                });
            });
        }

        function createMonthHTML(date) {
            const year = date.getFullYear();
            const month = date.getMonth();
            const firstDay = new Date(year, month, 1).getDay(); // 0 is Sunday
            const daysInMonth = new Date(year, month + 1, 0).getDate();

            // Adjust for Monday start (Turkey)
            let adjustedFirstDay = firstDay === 0 ? 6 : firstDay - 1;

            let html = `
                <div class="month-view">
                    <div class="month-title">${monthNames[month]} ${year}</div>
                    <div class="weekdays">
                        <span>Pzt</span><span>Sal</span><span>Çar</span><span>Per</span><span>Cum</span><span>Cts</span><span>Paz</span>
                    </div>
                    <div class="days-grid">
            `;

            // Empty slots
            for (let i = 0; i < adjustedFirstDay; i++) {
                html += `<div class="day-cell empty"></div>`;
            }

            // Days
            const today = new Date();
            today.setHours(0, 0, 0, 0);

            for (let i = 1; i <= daysInMonth; i++) {
                const cellDate = new Date(year, month, i);
                let classes = 'day-cell';

                // Past dates check
                if (cellDate < today) {
                    classes += ' disabled';
                }

                // Selection check
                if (selectedStartDate && cellDate.getTime() === selectedStartDate.getTime()) classes += ' selected';
                if (selectedEndDate && cellDate.getTime() === selectedEndDate.getTime()) classes += ' selected';

                // Range check
                if (selectedStartDate && selectedEndDate && cellDate > selectedStartDate && cellDate < selectedEndDate) {
                    classes += ' in-range';
                }

                html += `<div class="${classes}" data-date="${cellDate.toISOString()}">${i}</div>`;
            }

            html += `</div></div>`;
            return html;
        }

        function handleDateClick(date) {
            if (!selectedStartDate || (selectedStartDate && selectedEndDate)) {
                // New selection - start fresh
                selectedStartDate = date;
                selectedEndDate = null;
            } else {
                // Second click - set end date
                if (date < selectedStartDate) {
                    // If clicked before start, swap
                    selectedEndDate = selectedStartDate;
                    selectedStartDate = date;
                } else if (date.getTime() === selectedStartDate.getTime()) {
                    // Same date clicked, ignore
                    return;
                } else {
                    selectedEndDate = date;
                }
            }

            updateDisplayText();
            renderCalendar();
        }

        function updateDisplayText() {
            if (selectedStartDate && selectedEndDate) {
                dateDisplayText.textContent = `${formatDate(selectedStartDate)} - ${formatDate(selectedEndDate)}`;
                dateDisplayText.style.color = '#333';
            } else if (selectedStartDate) {
                dateDisplayText.textContent = `${formatDate(selectedStartDate)} - Bitiş Tarihi Seçin`;
                dateDisplayText.style.color = '#333';
            } else {
                dateDisplayText.textContent = 'Başlangıç - Bitiş Tarihi';
            }
        }

        function formatDate(date) {
            return `${date.getDate()} ${monthNames[date.getMonth()]}`;
        }
    </script>
</body>

</html>
```