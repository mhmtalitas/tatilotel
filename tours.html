<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tur Listesi | TatilOtel</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Modern Styles -->
    <link rel="stylesheet" href="modern-core.css">
    <link rel="stylesheet" href="modern-components.css">

    <style>
        .page-header-slim {
            background-color: white;
            padding: 1rem 0;
            border-bottom: 1px solid var(--clr-border);
        }

        .header-flex-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .breadcrumb-nav {
            font-size: 0.85rem;
            color: var(--clr-text-muted);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .breadcrumb-nav a:hover {
            color: var(--clr-primary);
        }

        .breadcrumb-nav i {
            font-size: 0.65rem;
            opacity: 0.5;
        }

        .results-stat {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--clr-text);
        }

        .results-stat span {
            color: var(--clr-primary);
        }

        .layout-tours {
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 2rem;
            padding: var(--sp-md) 0;
        }

        .filter-sidebar {
            background: white;
            border: 1px solid var(--clr-border);
            border-radius: var(--radius-sm);
            padding: 1.5rem;
            height: fit-content;
        }

        .filter-group {
            margin-bottom: 2rem;
        }

        .filter-group h4 {
            font-size: 0.9rem;
            text-transform: uppercase;
            margin-bottom: 1rem;
            border-bottom: 1px solid var(--clr-border);
            padding-bottom: 0.5rem;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
            cursor: pointer;
        }

        .checkbox-item input {
            accent-color: var(--clr-primary);
        }

        .tour-list-wide {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .tour-card-wide {
            display: grid;
            grid-template-columns: 320px 1fr;
            background: white;
            border: 1px solid var(--clr-border);
            border-radius: var(--radius-md);
            overflow: hidden;
            transition: var(--transition);
            height: 240px;
            /* Fixed height for consistency */
        }

        .tour-card-wide:hover {
            box-shadow: var(--shadow-lg);
            transform: translateY(-2px);
        }

        .wide-card-img {
            position: relative;
            overflow: hidden;
            height: 100%;
        }

        .wide-card-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
            transition: var(--transition);
        }

        .tour-card-wide:hover .wide-card-img img {
            transform: scale(1.05);
        }

        .wide-card-content {
            padding: 1.25rem 1.75rem;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            overflow: hidden;
        }

        .wide-card-meta {
            display: flex;
            gap: 1.5rem;
            font-size: 0.8rem;
            color: var(--clr-text-muted);
            margin-bottom: 0.75rem;
        }

        .wide-card-meta i {
            color: var(--clr-primary);
        }

        .wide-card-title {
            font-size: 1.35rem;
            margin-bottom: 0.75rem;
            font-weight: 700;
        }

        .wide-card-desc {
            font-size: 0.9rem;
            color: var(--clr-text-muted);
            line-height: 1.5;
            overflow: hidden;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            line-clamp: 2;
        }

        .wide-card-price-bot {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1.5rem;
            padding-top: 1.25rem;
            border-top: 1px solid var(--clr-border);
        }

        @media (max-width: 900px) {
            .layout-tours {
                grid-template-columns: 1fr;
            }

            .filter-sidebar {
                display: none;
                /* Can be toggled with a button later if needed */
            }

            .tour-card-wide {
                grid-template-columns: 1fr;
                height: auto;
            }

            .wide-card-img {
                height: 200px;
            }

            .wide-card-content {
                padding: 1.5rem;
            }

            .wide-card-title {
                font-size: 1.15rem;
            }
        }
    </style>
</head>

<body>

    <!-- Header -->
    <header class="header-main">
        <div class="container" style="display: flex; align-items: center; width: 100%;">
            <a href="index.html" class="logo-wrap" style="text-decoration: none; color: inherit;">
                <span style="font-size: 1.5rem; font-weight: 800; color: var(--clr-primary);">TATIL</span><span
                    style="font-size: 1.5rem; font-weight: 400;">OTEL</span>
            </a>
            <nav class="nav-desktop">
                <a href="index.html" class="nav-link">Anasayfa</a>
                <a href="tours.html?type=daily" class="nav-link">Günübirlik Turlar</a>
                <a href="tours.html?type=accommodation" class="nav-link">Konaklamalı Turlar</a>
                <a href="contact.html" class="nav-link">İletişim</a>
            </nav>
            <div class="header-right">
                <a href="tel:08505323773" class="phone-link"><i class="fa-solid fa-phone"></i> 0850 532 37 73</a>
                <a href="login.html" class="btn-red" style="padding: 0.6rem 1.5rem; font-size: 0.8rem;">Giriş Yap</a>
                <button class="mobile-nav-toggle" id="menuOpen"><i class="fa-solid fa-bars"></i></button>
            </div>
        </div>
    </header>

    <!-- Side Menu -->
    <div class="side-menu-overlay" id="menuOverlay"></div>
    <div class="side-menu" id="sideMenu">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
            <a href="index.html" class="logo-wrap" style="text-decoration: none; color: inherit;">
                <span style="font-size: 1.2rem; font-weight: 800; color: var(--clr-primary);">TATIL</span><span
                    style="font-size: 1.2rem; font-weight: 400;">OTEL</span>
            </a>
            <button id="menuClose" style="background: none; border: none; font-size: 1.5rem;"><i
                    class="fa-solid fa-xmark"></i></button>
        </div>
        <a href="index.html" class="side-nav-link">Anasayfa</a>
        <a href="tours.html?type=daily" class="side-nav-link">Günübirlik Turlar</a>
        <a href="tours.html?type=accommodation" class="side-nav-link">Konaklamalı Turlar</a>
        <a href="contact.html" class="side-nav-link">İletişim</a>
        <a href="tel:08505323773" class="side-nav-link" style="margin-top: auto; border: none;"><i
                class="fa-solid fa-phone"></i> 0850 532 37 73</a>
    </div>

    <div class="page-header-slim">
        <div class="container">
            <div class="header-flex-row">
                <nav class="breadcrumb-nav">
                    <a href="index.html">Anasayfa</a> <i class="fa-solid fa-chevron-right"></i>
                    <a href="tours.html">Turlar</a> <i class="fa-solid fa-chevron-right"></i>
                    <span id="currentCategory" style="color: var(--clr-text); font-weight: 700;">Balkan Turları</span>
                </nav>
                <div class="results-stat">
                    <span id="tourCountText">Yükleniyor...</span>
                </div>
            </div>
        </div>
    </div>

    <main class="container">
        <div class="layout-tours">
            <!-- Sidebar -->
            <aside class="filter-sidebar">
                <div class="filter-group">
                    <h4>Tur Tipi</h4>
                    <label class="checkbox-item"><input type="checkbox" id="filterAccommodation" checked> Konaklamalı
                        Turlar</label>
                    <label class="checkbox-item"><input type="checkbox" id="filterDaily" checked> Günübirlik
                        Turlar</label>
                </div>

                <div class="filter-group">
                    <h4>Bölge</h4>
                    <label class="checkbox-item"><input type="checkbox" checked> Balkanlar</label>
                    <label class="checkbox-item"><input type="checkbox" checked> Karadeniz</label>
                    <label class="checkbox-item"><input type="checkbox" checked> Kapadokya</label>
                    <label class="checkbox-item"><input type="checkbox" checked> Akdeniz/Ege</label>
                </div>

                <div class="filter-group">
                    <h4>Kategori</h4>
                    <label class="checkbox-item"><input type="checkbox" checked> Kültür Turları</label>
                    <label class="checkbox-item"><input type="checkbox" checked> Safari & Macera</label>
                    <label class="checkbox-item"><input type="checkbox" checked> Tekne & Deniz</label>
                </div>
            </aside>

            <!-- Results -->
            <div id="tourListWrapper">
                <div class="tour-list-wide" id="tourContainer">
                    <!-- Dynamic tours will be injected here -->
                </div>

                <div id="noResults" style="display: none; text-align: center; padding: 5rem 0;">
                    <i class="fa-solid fa-map-location-dot"
                        style="font-size: 4rem; color: var(--clr-border); margin-bottom: 1.5rem;"></i>
                    <h3>Aradığınız kriterlere uygun tur bulunamadı.</h3>
                    <p style="color: var(--clr-text-muted);">Lütfen filtreleri temizleyip tekrar deneyin.</p>
                </div>

                <div id="loadMoreSection" style="text-align: center; padding: 2rem;">
                    <p id="tourCountText" style="color: var(--clr-text-muted); margin-bottom: 1.5rem;"></p>
                    <button class="btn-red" id="loadMoreBtn" style="padding: 0.8rem 3rem;">DAHA FAZLA GÖSTER</button>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer-simple">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col" style="grid-column: span 1;">
                    <a href="index.html" class="logo-wrap" style="text-decoration: none; color: inherit;">
                        <span style="font-size: 1.3rem; font-weight: 800; color: var(--clr-primary);">TATIL</span><span
                            style="font-size: 1.3rem; font-weight: 400;">OTEL</span>
                    </a>
                    <p style="margin-top: 1.5rem; color: var(--clr-text-muted); font-size: 0.9rem;">
                        TatilOtel, en kaliteli tatil deneyimlerini en uygun fiyatlarla sunan lider turizm acentesidir.
                    </p>
                    <div style="display: flex; gap: 1rem; margin-top: 1.5rem;">
                        <a href="#"><i class="fa-brands fa-instagram"></i></a>
                        <a href="#"><i class="fa-brands fa-facebook"></i></a>
                        <a href="#"><i class="fa-brands fa-twitter"></i></a>
                    </div>
                </div>
                <div class="footer-col">
                    <h4>Popüler Rotalar</h4>
                    <ul>
                        <li><a href="#">Balkan Turları</a></li>
                        <li><a href="#">Avrupa Turları</a></li>
                        <li><a href="#">Uzak Doğu</a></li>
                        <li><a href="#">Kültür Turları</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Kurumsal</h4>
                    <ul>
                        <li><a href="about.html">Hakkımızda</a></li>
                        <li><a href="contact.html">İletişim</a></li>
                        <li><a href="#">Gizlilik Politikası</a></li>
                        <li><a href="#">KVKK</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Müşteri Hizmetleri</h4>
                    <ul>
                        <li><a href="#">Yardım Merkezi</a></li>
                        <li><a href="#">İptal/İade Koşulları</a></li>
                        <li><a href="#">Ödeme Seçenekleri</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom-simple">
                <p>&copy; 2026 TatilOtel. Tüm hakları saklıdır.</p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="reference_tours_utf8.js"></script>
    <script>
        const menuOpen = document.getElementById('menuOpen');
        const menuClose = document.getElementById('menuClose');
        const sideMenu = document.getElementById('sideMenu');
        const menuOverlay = document.getElementById('menuOverlay');

        function toggleMenu(show) {
            sideMenu.classList.toggle('active', show);
            menuOverlay.classList.toggle('active', show);
            document.body.style.overflow = show ? 'hidden' : '';
        }

        if (menuOpen) menuOpen.addEventListener('click', () => toggleMenu(true));
        if (menuClose) menuClose.addEventListener('click', () => toggleMenu(false));
        if (menuOverlay) menuOverlay.addEventListener('click', () => toggleMenu(false));

        // Filters
        const filterAccommodation = document.getElementById('filterAccommodation');
        const filterDaily = document.getElementById('filterDaily');
        const tourContainer = document.getElementById('tourContainer');
        const noResults = document.getElementById('noResults');
        const tourCountText = document.getElementById('tourCountText');
        const loadMoreSection = document.getElementById('loadMoreSection');

        // Image Map for Unsplash (Backup)
        const unsplashMap = {
            'at-safari': 'https://images.unsplash.com/photo-1598974357801-cbca100e65d3',
            'antalya-akvaryum': 'https://images.unsplash.com/photo-1509130298739-651801c76e96',
            'rafting-turu': 'https://images.unsplash.com/photo-1530866495547-152483f5bf21',
            'rafting-extra': 'https://images.unsplash.com/photo-1510414842594-a61c69b5ae57',
            'alanya-tekne-turu': 'https://images.unsplash.com/photo-1544551763-46a013bb70d5',
            'jeep-safari': 'https://images.unsplash.com/photo-1533550822823-325e408891aa',
            'yamac-parasutu': 'https://images.unsplash.com/photo-1597858905333-e7f09f538743',
            'yunus-gosterisi': 'https://images.unsplash.com/photo-1570481662006-a3a1374699e8',
            'aquapark': 'https://images.unsplash.com/photo-1540541338287-41700207dee6',
            'quad-safari': 'https://images.unsplash.com/photo-1453306458620-5bbef13a5bca',
            'dalis': 'https://images.unsplash.com/photo-1544551763-8dd0c4578fe6',
            'manavgat-tekne-turu': 'https://images.unsplash.com/photo-1516627145497-ae6968895b74',
            'deniz-yoluyla-alanya': 'https://images.unsplash.com/photo-1464948950524-746aae7264a6',
            'mini-alanya-jeep': 'https://images.unsplash.com/photo-1542031024357-1903673c6838',
            'gece-safarisi': 'https://images.unsplash.com/photo-1541410965313-d53b3c16ef17',
            'sapadere-kanyonu': 'https://images.unsplash.com/photo-1464822759023-fed622ff2c3b',
            'green-kanyon': 'https://images.unsplash.com/photo-1584148721201-b6432e0d510e',
            'balkan-turu': 'https://images.unsplash.com/photo-1543783207-c1f5fc6953c9',
            'gap-turu': 'https://images.unsplash.com/photo-1582260193108-7a56193796bd',
            'kapadokya-turu': 'https://images.unsplash.com/photo-1506744038136-46273834b3fb'
        };

        function renderTours() {
            const showAcc = filterAccommodation.checked;
            const showDaily = filterDaily.checked;

            tourContainer.innerHTML = '';

            const filtered = toursData.filter(tour => {
                if (tour.type === 'accommodation' && showAcc) return true;
                if (tour.type === 'daily' && showDaily) return true;
                return false;
            });

            if (filtered.length === 0) {
                noResults.style.display = 'block';
                loadMoreSection.style.display = 'none';
                return;
            }

            noResults.style.display = 'none';
            loadMoreSection.style.display = 'block';
            tourCountText.innerHTML = `<span>${filtered.length}</span> Tur Bulundu`;

            filtered.forEach(tour => {
                const img = unsplashMap[tour.id] || (tour.images[0]?.startsWith('http') ? tour.images[0] : 'https://images.unsplash.com/photo-1469854523086-cc02fe5d8800');

                const card = `
                    <div class="tour-card-wide">
                        <div class="wide-card-img">
                            <img src="${img}?q=80&w=800&auto=format&fit=crop" alt="${tour.title}">
                            <span class="card-badge-top">${tour.type === 'accommodation' ? 'Konaklamalı' : tour.category}</span>
                        </div>
                        <div class="wide-card-content">
                            <div>
                                <div class="wide-card-meta">
                                    <span><i class="fa-solid fa-clock"></i> ${tour.duration}</span>
                                    <span><i class="fa-solid fa-calendar-days"></i> ${tour.days.join(', ')}</span>
                                </div>
                                <h3 class="wide-card-title">${tour.title}</h3>
                                <p class="wide-card-desc">${tour.description}</p>
                            </div>
                            <div class="wide-card-price-bot">
                                <div class="price-box">
                                    <span class="price-sub">Kişi başı</span>
                                    <span class="price-main">${tour.price.adult} ${tour.price.currency}</span>
                                </div>
                                <a href="tour-detail.html?id=${tour.id}" class="btn-red">DETAYLARI GÖR</a>
                            </div>
                        </div>
                    </div>
                `;
                tourContainer.insertAdjacentHTML('beforeend', card);
            });
        }

        function updateActiveLinks(type) {
            document.querySelectorAll('.nav-link, .side-nav-link').forEach(link => {
                link.classList.remove('active');
                if (type && link.getAttribute('href').includes(`type=${type}`)) {
                    link.classList.add('active');
                }
            });
        }

        filterAccommodation.addEventListener('change', renderTours);
        filterDaily.addEventListener('change', renderTours);

        function handleUrlParams() {
            const params = new URLSearchParams(window.location.search);
            const typeParam = params.get('type');

            if (typeParam === 'accommodation') {
                filterAccommodation.checked = true;
                filterDaily.checked = false;
            } else if (typeParam === 'daily') {
                filterAccommodation.checked = false;
                filterDaily.checked = true;
            } else {
                // Default or unfiltered state
                filterAccommodation.checked = true;
                filterDaily.checked = true;
            }

            updateActiveLinks(typeParam);
            renderTours();
        }

        window.addEventListener('load', handleUrlParams);
        window.addEventListener('popstate', handleUrlParams);

        // Handle clicks on internal links to avoid full reload if possible, 
        // but since they are standard <a> tags, popstate/load is sufficient.
        // If we wanted true SPA feel, we'd intercept clicks, but standard links work fine now.
    </script>
</body>

</html>